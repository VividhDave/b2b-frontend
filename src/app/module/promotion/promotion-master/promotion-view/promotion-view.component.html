<div class="animated fadeIn">
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <i class="fa fa-align-justify"></i>Promotion Master
          <div class="new-button">
            <button type="submit" class="btn btn-sm btn-orange-theme"
              (click)="back()"><i
                class="fa fa-dot-circle-o"></i>
              Back
            </button>
          </div>
        </div>
        <form [formGroup]="promotionForm">
          <div class="card-body">
            <div class="card">
              <div class="card-header">
                <strong>Step 1 Conditions</strong>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="selectBuyerPurchases">Buyer Purchases</label>
                  </div>
                  <div class="form-group col-sm-4">
                    <select id="selectBuyerPurchases" class="form-control
                      form-control-sm"
                      formControlName="buyerPurchases">
                      <option value="">-Please Select-</option>
                      <option *ngFor="let group of
                        buyerPurchaseList"
                        [value]="group.id">
                        {{group.name}}
                      </option>
                    </select>
                    <div *ngIf="f.buyerPurchases.invalid &&
                      (f.buyerPurchases.dirty ||
                      f.buyerPurchases.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.buyerPurchases.errors.required">
                        Please select Buyer Purchase
                      </span>
                    </div>
                  </div>
                  <div class="form-group col-sm-3">
                    <input type="text" class="form-control"
                      formControlName="buyerPurchasesValue" placeholder="Enter
                      quantity or price">
                    <div *ngIf="f.buyerPurchasesValue.invalid &&
                      (f.buyerPurchasesValue.dirty ||
                      f.buyerPurchasesValue.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.buyerPurchasesValue.errors.required">
                        Please Enter quantity or price
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="selectProductSelection">Purchased Items</label>
                  </div>
                  <div class="form-group col-sm-4">
                    <select id="selectProductSelection" class="form-control
                      form-control-sm"
                      formControlName="productSelectionId">
                      <option value="">-Please Select-</option>
                      <option *ngFor="let group of
                        productSelectionList"
                        [value]="group.id">
                        {{group.name}}
                      </option>
                    </select>
                    <div *ngIf="f.productSelectionId.invalid &&
                      (f.productSelectionId.dirty ||
                      f.productSelectionId.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.productSelectionId.errors.required">
                        Please select purchased items
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="selectBuyerGets">Buyer Gets</label>
                  </div>
                  <div class="form-group col-sm-4">
                    <select id="selectBuyerGets" class="form-control
                      form-control-sm"
                      formControlName="buyerGets">
                      <option value="">-Please Select-</option>
                      <option *ngFor="let group of
                        buyerGetsList"
                        [value]="group.id">
                        {{group.name}}
                      </option>
                    </select>
                    <div *ngIf="f.buyerGets.invalid &&
                      (f.buyerGets.dirty ||
                      f.buyerGets.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.buyerGets.errors.required">
                        Please select Buyer gets
                      </span>
                    </div>
                  </div>
                  <div class="form-group col-sm-3">
                    <input type="text" class="form-control"
                      formControlName="buyerGetsValue" placeholder="Enter buyer
                      gets">
                    <div *ngIf="f.buyerGetsValue.invalid &&
                      (f.buyerGetsValue.dirty ||
                      f.buyerGetsValue.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.buyerGetsValue.errors.required">
                        Please Enter buyer gets in percentages
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="selectAppliesTo">Applies to</label>
                  </div>
                  <div class="form-group col-sm-4">
                    <select id="selectAppliesTo" class="form-control
                      form-control-sm"
                      formControlName="appliesTo">
                      <option value="">-Please Select-</option>
                      <option *ngFor="let group of
                        appliesToList"
                        [value]="group.id">
                        {{group.name}}
                      </option>
                    </select>
                    <div *ngIf="f.appliesTo.invalid &&
                      (f.appliesTo.dirty ||
                      f.appliesTo.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.appliesTo.errors.required">
                        Please select Applies to
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <strong>Step 2 Scheduling</strong>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="selectStartDate">Start Date</label>
                  </div>
                  <div class="form-group col-sm-4">
                    <input id="selectStartDate" class="form-control
                      form-control-sm" type="datetime-local"
                      [value]="[myDate]"
                      formControlName="startDate">
                    <div *ngIf="f.startDate.invalid &&
                      (f.startDate.dirty ||
                      f.startDate.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.startDate.errors.required">
                        Please choose start date
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="selectEndDate">End Date</label>
                  </div>
                  <div class="form-group col-sm-4">
                    <input id="selectEndDate" class="form-control
                      form-control-sm" type="datetime-local"
                      [value]="[myDate]"
                      formControlName="endDate">
                    <div *ngIf="f.endDate.invalid &&
                      (f.endDate.dirty ||
                      f.endDate.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.endDate.errors.required">
                        Please choose end date
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="selectInternal">Internal Description</label>
                  </div>
                  <div class="form-group col-sm-8">
                    <input id="selectInternal" type="text" class="form-control"
                      formControlName="internalDescription"
                      placeholder="Enter internal description">
                    <div *ngIf="f.internalDescription.invalid &&
                      (f.internalDescription.dirty ||
                      f.internalDescription.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.internalDescription.errors.required">
                        Please enter internal description
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="selectTracking">Tracking ID</label>
                  </div>
                  <div class="form-group col-sm-3">
                    <input id="selectTracking" type="text" class="form-control"
                      formControlName="trackingId"
                      placeholder="Enter tracking id">
                    <div *ngIf="f.trackingId.invalid &&
                      (f.trackingId.dirty ||
                      f.trackingId.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.trackingId.errors.required">
                        Please enter tracking id
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <strong>Step 3 Additional Options</strong>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="ccType">Claim Code Type</label>
                  </div>
                  <div class="form-group col-sm-4">
                    <select id="ccType" class="form-control form-control-sm"
                      formControlName="claimCodeType">
                      <option value="">-Please Select-</option>
                      <option *ngFor="let group of
                        claimCodeTypeList"
                        [value]="group.id">
                        {{group.name}}
                      </option>
                    </select>
                    <div *ngIf="f.claimCodeType.invalid &&
                      (f.claimCodeType.dirty ||
                      f.claimCodeType.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.claimCodeType.errors.required">
                        Please select claim code type
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="perCustomer">One redemption per customer</label>
                  </div>
                  <div class="form-group col-sm-4">
                    <input id="perCustomer" class="form-control-sm form-check"
                      type="checkbox"
                      formControlName="redemptionPerCustomer">
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="claimCodee">Claim Code</label>
                  </div>
                  <div class="form-group col-sm-3">
                    <input id="claimCodee" type="text" class="form-control"
                      formControlName="claimCode"
                      placeholder="Enter claim code">
                    <div *ngIf="f.claimCode.invalid &&
                      (f.claimCode.dirty ||
                      f.claimCode.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.claimCode.errors.required">
                        Please enter claim code
                      </span>
                    </div>
                  </div>
                  <div class="new-button form-group col-sm-3">
                    <button type="submit" class="btn btn-sm btn-orange-theme"
                      (click)="validClaimCode()">
                      Valid
                    </button>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="ccCombinability">Claim Code Combinability</label>
                  </div>
                  <div class="form-group col-sm-3">
                    <select id="ccCombinability" class="form-control
                      form-control-sm"
                      formControlName="claimCodeCombinability">
                      <option value="">-Please Select-</option>
                      <option *ngFor="let group of
                        claimCodeCombinabilityList"
                        [value]="group.id">
                        {{group.name}}
                      </option>
                    </select>
                    <div *ngIf="f.claimCodeCombinability.invalid &&
                      (f.claimCodeCombinability.dirty ||
                      f.claimCodeCombinability.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.claimCodeCombinability.errors.required">
                        Please select code combinability
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="displayText">Checkout Display Text</label>
                  </div>
                  <div class="form-group col-sm-5">
                    <input id="displayText" type="text" class="form-control"
                      formControlName="checkoutDisplayText"
                      placeholder="Enter display name">
                    <div *ngIf="f.checkoutDisplayText.invalid &&
                      (f.checkoutDisplayText.dirty ||
                      f.checkoutDisplayText.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.checkoutDisplayText.errors.required">
                        Please enter display name
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="shortName">Short Display Name</label>
                  </div>
                  <div class="form-group col-sm-3">
                    <input id="shortName" type="text" class="form-control"
                      formControlName="shortDisplayName"
                      placeholder="Enter short name">
                    <div *ngIf="f.shortDisplayName.invalid &&
                      (f.shortDisplayName.dirty ||
                      f.shortDisplayName.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.shortDisplayName.errors.required">
                        Please enter short name
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col-sm-2">
                    <label for="displayDescription">Display Description</label>
                  </div>
                  <div class="form-group col-sm-10">
                    <input id="displayDescription" type="text"
                      class="form-control" formControlName="displayDescription"
                      placeholder="Enter Description">
                    <div *ngIf="f.displayDescription.invalid &&
                      (f.displayDescription.dirty ||
                      f.displayDescription.touched)"
                      class="error-message">
                      <span
                        *ngIf="f.displayDescription.errors.required">
                        Please enter Description
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <button type="submit" class="btn btn-sm btn-orange-theme"
                (click)="save()"><i class="fa fa-dot-circle-o"></i>
                Submit
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
